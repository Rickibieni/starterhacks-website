<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fullscreen Blockly Editor</title>
    <script src="https://unpkg.com/blockly/blockly.min.js"></script>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
        }
        #blocklyDiv {
            height: 100vh;
            width: 100vw;
            position: relative;
        }
        .blocklySvg {
            filter: drop-shadow(0px 0px 10px rgba(0, 0, 0, 0.5));
        }
        .blocklyBlockDraggable {
            transition: transform 0.2s ease-in-out;
        }
        .blocklyBlockDrag {
            transform: scale(1.1);
        }
    </style>
</head>
<body>
    <div id="blocklyDiv"></div>
    <xml id="toolbox" style="display: none">
        <!-- Add your blocks here -->
        <block type="controls_if"></block>
        <block type="logic_compare"></block>
        <block type="math_number"></block>
        <block type="math_arithmetic"></block>
    </xml>
    <script>
        var workspace = Blockly.inject('blocklyDiv', {
            toolbox: document.getElementById('toolbox'),
            grid: {
                spacing: 20,
                length: 3,
                colour: '#ccc',
                snap: true
            },
            renderer: 'zelos',
            move: {
                scrollbars: true,
                drag: true,
                wheel: true
            },
            trashcan: true
        });

        // Custom CSS for 3D effect
        var blockStyles = `
            .blocklyBlock {
                perspective: 1000px;
            }
            .blocklyBlock .blocklyDraggable {
                transform-style: preserve-3d;
            }
            .blocklyBlock .blocklyDraggable .blocklyBlockSvg {
                transition: transform 0.3s ease;
            }
            .blocklyBlock .blocklyDraggable:hover .blocklyBlockSvg {
                transform: rotateY(10deg) rotateX(10deg);
            }
        `;
        var styleSheet = document.createElement("style");
        styleSheet.type = "text/css";
        styleSheet.innerText = blockStyles;
        document.head.appendChild(styleSheet);

        // Add animations for block movements
        Blockly.BlockSvg.prototype.onMouseMove = function(e) {
            var block = this;
            var clientX = e.clientX;
            var clientY = e.clientY;
            var dx = clientX - block.getSvgRoot().getBoundingClientRect().left;
            var dy = clientY - block.getSvgRoot().getBoundingClientRect().top;
            block.getSvgRoot().style.transform = `translate(${dx}px, ${dy}px)`;
        };
    </script>
</body>
</html>
